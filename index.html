<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Stradivaryus Tools â€” Next</title>
 <!-- ğŸ‘‡ AÃ‘ADE ESTA LÃNEA -->
  <base href="./">
  <!-- Fuentes + estilos -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <meta name="theme-color" content="#3b64ff">
  <link rel="stylesheet" href="styles.css" />

  <!-- jsPDF/AutoTable (fallbacks tambiÃ©n se cargan dinÃ¡micamente en app.js si hiciera falta) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js" defer></script>
</head>
<body>
  <!-- Fondo animado -->
  <canvas id="bg" aria-hidden="true"></canvas>

  <!-- AppBar -->
  <header class="appbar">
    <div class="appbar-left">
      <img src="logoklem.png" class="logo" alt="Stradivaryus"/>
      <div>
        <h1>Stradivaryus Tools</h1>
        <p class="tag">El RincÃ³n de tus Herramientas</p>
      </div>
    </div>
    <div class="appbar-right">
      <button id="btnTheme" class="chip" aria-label="Cambiar tema">ğŸ–¥ï¸</button>
      <button id="btnLegal" class="chip" aria-label="InformaciÃ³n legal">âš–ï¸ Legal</button>
      <button id="btnContactar" class="chip">ğŸ“ Contactar</button>
      <button id="btnLogin" class="chip">ğŸ” Admin</button>
    </div>
  </header>

  <!-- Hero / Muro -->
  <section id="hero" class="hero">
    <div class="hero-overlay"></div>
    <div class="hero-slider" id="heroSlider"></div>
    <div class="hero-dots" id="heroDots" aria-label="Indicadores"></div>
    <button class="hnav prev" id="hPrev" aria-label="Anterior">â®</button>
    <button class="hnav next" id="hNext" aria-label="Siguiente">â¯</button>
  </section>

  <main id="main">
    <!-- ======== Cliente ======== -->
    <section id="view-productos" class="view show">
      <div class="view-head"><h2>Herramientas</h2></div>
      <div id="gridProductos" class="grid cards"></div>
    </section>

    <section id="view-carrito" class="view">
      <div class="view-head"><h2>Carrito</h2></div>

      <div class="card">
        <div class="row wrap">
          <select id="clienteSel" class="input"></select>
          <button class="chip" id="btnAddCliente">â• Cliente</button>
        </div>
        <ul id="listaCarrito" class="list"></ul>
        <div class="total">
          <div>
            <div>Subtotal: $<span id="subTxt">0.00</span></div>
            <div class="muted">Sales Tax <span id="taxRateTxt">5.75</span>%: $<span id="taxTxt">0.00</span></div>
          </div>
          <strong>Total $<span id="totTxt">0.00</span></strong>
        </div>
      </div>

      <div class="card">
        <h3>Pago</h3>
        <div class="row wrap">
          <select id="metodoPago" class="input">
            <option value="">-- Seleccionar --</option>
            <option value="efectivo">Efectivo</option>
            <option value="zelle">Zelle</option>
          </select>
          <input id="montoEfectivo" type="number" class="input hidden" min="0" step="0.01" placeholder="Monto entregado">
          <button id="btnPagar" class="btn primary">Pagar</button>
        </div>
        <div id="qrBox" class="qr hidden">
          <img src="qr-zelle.png" alt="QR Zelle">
          <div class="muted">Email Zelle: tuemail@zelle.com</div>
        </div>
      </div>

      <div id="reciboBox" class="card hidden"></div>
    </section>

    <section id="view-proyectos" class="view">
      <div class="view-head"><h2>Proyectos</h2></div>
      <div id="gridProyectos" class="grid cards"></div>
    </section>

    <!-- ======== Contacto ======== -->
    <section id="view-contacto" class="view">
      <div class="view-head"><h2>Contacto</h2></div>
      <div class="card">
        <p>Para mÃ¡s informaciÃ³n:</p>
        <p><strong>TelÃ©fono:</strong> <a href="tel:+15133790469">+1 513 379 0469</a></p>
        <p>Horario: Lâ€“V Â· 9:00 AM â€“ 5:00 PM</p>
        <p><strong>Email:</strong> <a href="mailto:info@stradivaryus.com">info@stradivaryus.com</a></p>
        <p><a href="mailto:kestradam@icloud.com">kestradam26@icloud.com</a></p>
        <div class="map-wrap" style="height:280px; border-radius:14px; overflow:hidden; border:1px solid var(--line);">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d198858.73617515213!2d-84.69539332078124!3d39.13602445936173!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8841b277f3d6bdf7%3A0x2a0d7b5a2d0f0db8!2sCincinnati%2C%20OH!5e0!3m2!1ses!2sus!4v1690000000000"
            width="100%" height="100%" style="border:0;" allowfullscreen loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </div>
    </section>

    <!-- ======== Legal (Ohio) ======== -->
    <section id="view-legal" class="view">
      <div class="view-head"><h2>InformaciÃ³n Legal (Ohio, EE. UU.)</h2></div>
      <div class="card">
        <p class="muted" style="margin-top:0">
          Contenido informativo basado en prÃ¡cticas habituales del Ohio Revised Code (ORC).
          <strong>No constituye asesorÃ­a legal</strong>. Consulta a tu abogado para adaptar a tu operaciÃ³n.
        </p>

        <details open>
          <summary><strong>TÃ©rminos y Condiciones</strong></summary>
          <div class="legal">
            <p><strong>Entidad:</strong> Stradivaryus Tools (â€œla Empresaâ€). <strong>JurisdicciÃ³n:</strong> Ohio, EE. UU. <strong>Foro:</strong> Tribunales del Condado de Hamilton, Ohio.</p>
            <ul>
              <li><strong>Precios e impuestos:</strong> USD. Sales & Use Tax conforme ORC cap. 5739.</li>
              <li><strong>Pedidos y pago:</strong> Pedido aceptado al confirmarse el pago (efectivo o Zelle).</li>
              <li><strong>GarantÃ­as:</strong> Las del fabricante salvo pacto escrito adicional.</li>
              <li><strong>LimitaciÃ³n de responsabilidad:</strong> Hasta el monto pagado por el cliente.</li>
              <li><strong>Fuerza mayor:</strong> No responde por causas fuera de control razonable.</li>
            </ul>
          </div>
        </details>

        <details>
          <summary><strong>Privacidad</strong></summary>
          <div class="legal">
            <ul>
              <li><strong>Datos:</strong> nombre, telÃ©fono, empresa, correo para pedidos y soporte.</li>
              <li><strong>Base legal:</strong> contrato, interÃ©s legÃ­timo y cumplimiento legal.</li>
              <li><strong>ConservaciÃ³n:</strong> el tiempo necesario para fines contables/legales.</li>
              <li><strong>Derechos:</strong> acceso/correcciÃ³n/eliminaciÃ³n en <a href="mailto:info@stradivaryus.com">info@stradivaryus.com</a>.</li>
            </ul>
          </div>
        </details>

        <details>
          <summary><strong>Devoluciones</strong></summary>
          <div class="legal">
            <ul>
              <li>14 dÃ­as para productos sin uso y en empaque original (salvo personalizados/consumibles).</li>
              <li>Requiere comprobante de compra.</li>
            </ul>
          </div>
        </details>

        <details>
          <summary><strong>Cookies</strong></summary>
          <div class="legal"><p>Usamos almacenamiento local para carrito y preferencias. Sin rastreo de terceros.</p></div>
        </details>

        <details>
          <summary><strong>DMCA</strong></summary>
          <div class="legal"><p>Avisos a <a href="mailto:dmca@stradivaryus.com">dmca@stradivaryus.com</a>.</p></div>
        </details>

        <details>
          <summary><strong>Accesibilidad (ADA)</strong></summary>
          <div class="legal"><p>Si encuentras barreras, contÃ¡ctanos en <a href="mailto:access@stradivaryus.com">access@stradivaryus.com</a>.</p></div>
        </details>

        <p class="muted">Vigencia: <span id="legalDate"></span> Â· Sede: Cincinnati, Ohio</p>
      </div>
    </section>

    <!-- ======== Admin ======== -->
    <section id="view-admin" class="view">
      <div class="view-head"><h2>Panel Admin</h2></div>

      <!-- Acceso -->
      <div id="adminGate" class="card">
        <div class="row">
          <input id="adminPass" type="password" class="input" placeholder="ContraseÃ±a (klem)">
          <button id="adminEnter" class="btn primary">Ingresar</button>
        </div>
      </div>

      <div id="adminPanel" class="hidden">
        <!-- Muro -->
        <div class="card">
          <div class="card-head">
            <h3>Muro / Portada</h3>
            <div class="row wrap">
              <label class="btn ghost">ğŸ“¥ Agregar imÃ¡genes al Muro
                <input type="file" id="importHero" accept="image/*" multiple hidden>
              </label>
              <button id="clearHero" class="btn danger">Vaciar Muro</button>
            </div>
          </div>
          <div id="gridHeroAdmin" class="thumbs"></div>
          <p class="muted" style="margin-top:6px">ğŸ’¡ Arrastra las miniaturas para reordenar el slider.</p>
        </div>

        <!-- Productos (Admin) -->
        <div class="card">
          <div class="card-head"><h3>Productos (galerÃ­as)</h3>
            <div class="row wrap">
              <button id="addProducto" class="btn">â• Producto</button>
              <label class="btn ghost">ğŸ“¥ Importar imÃ¡genes
                <input type="file" id="importProductos" accept="image/*" multiple hidden>
              </label>
            </div>
          </div>
          <div id="gridProductosAdmin" class="grid cards admin"></div>
        </div>

        <!-- Proyectos (Admin) -->
        <div class="card">
          <div class="card-head"><h3>Proyectos (galerÃ­as)</h3>
            <div class="row wrap">
              <button id="addProyecto" class="btn">â• Proyecto</button>
              <label class="btn ghost">ğŸ“¥ Importar imÃ¡genes
                <input type="file" id="importProyectos" accept="image/*" multiple hidden>
              </label>
            </div>
          </div>
          <div id="gridProyectosAdmin" class="grid cards admin"></div>
        </div>
<div class="row wrap" style="margin-top:12px">
  <input id="projNameDel" class="input" placeholder="Nombre del proyecto a eliminar">
  <button id="btnDelProjByName" class="btn danger">Eliminar por nombre</button>
</div>

        <!-- Presupuestos (SOLO ADMIN) -->
        <div class="card">
          <div class="card-head"><h3>Presupuestos (Admin)</h3>
            <div class="row wrap">
              <button class="btn" id="rowAdd">â• Fila</button>
              <button class="btn" id="presCSV">â¤“ CSV</button>
              <select id="presFormat" class="input" style="max-width:140px">
                <option value="a4" selected>PDF A4</option>
                <option value="a5">PDF A5</option>
              </select>
              <button class="btn primary" id="presPDF">ğŸ“„ PDF</button>
            </div>
          </div>
          <div class="row wrap">
            <input id="presCliente" class="input" placeholder="ğŸ‘¤ Cliente">
            <input id="presProyecto" class="input" placeholder="ğŸ—ï¸ Proyecto">
          </div>
          <div class="table-wrap">
            <table id="presTable">
              <thead><tr><th>Material</th><th>Cant</th><th>Precio</th><th>Subtotal</th><th></th></tr></thead>
              <tbody></tbody>
              <tfoot><tr><td colspan="3" style="text-align:right"><strong>Total</strong></td><td id="presTotal">$0.00</td><td></td></tr></tfoot>
            </table>
          </div>
        </div>

        <!-- Controles rÃ¡pidos -->
        <div class="row wrap" id="adminQuickRow">
          <div class="card mini">
            <h3>Sales Tax</h3>
            <div class="row">
              <input id="taxInput" type="number" class="input" step="0.01" min="0" value="5.75">
              <button id="taxSave" class="btn">Guardar</button>
            </div>
          </div>
          <div class="card mini">
            <h3>Seguridad</h3>
            <div class="row">
              <input id="passNew" type="password" class="input" placeholder="Nueva clave">
              <button id="passSave" class="btn">Cambiar</button>
            </div>
          </div>
          <!-- La tarjeta "Marcas" (censura) se inyecta por JS aquÃ­ -->
        </div>

        <!-- Contable -->
        <div class="card">
          <div class="card-head"><h3>Ventas</h3><div class="row"><button id="clearVentas" class="btn danger">Limpiar</button></div></div>
          <div class="table-wrap">
            <table>
              <thead><tr><th>Fecha</th><th>#</th><th>Cliente</th><th>Productos</th><th>Sub</th><th>Imp</th><th>Total</th><th>MÃ©todo</th><th></th><th></th></tr></thead>
              <tbody id="tbVentas"></tbody>
            </table>
          </div>
        </div>

        <div class="card">
          <div class="card-head"><h3>Clientes (resumen compras)</h3><button id="clearClientes" class="btn danger">Limpiar</button></div>
          <div class="table-wrap">
            <table>
              <thead><tr><th>Cliente</th><th>Compras</th><th>Total</th><th>Ãšltima</th><th></th></tr></thead>
              <tbody id="tbClientes"></tbody>
            </table>
          </div>
        </div>

        <!-- Directorio de Clientes -->
        <div class="card">
          <div class="card-head"><h3>Directorio de Clientes (registrados)</h3></div>
          <div class="table-wrap">
            <table>
              <thead><tr><th>Nombre</th><th>TelÃ©fono</th><th>Empresa</th><th>Email</th><th>Registrado</th><th></th></tr></thead>
              <tbody id="tbClientesDir"></tbody>
            </table>
          </div>
        </div>

        <div class="card">
          <div class="card-head"><h3>Presupuestos Generados</h3><button id="clearPres" class="btn danger">Limpiar</button></div>
          <div class="table-wrap">
            <table>
              <thead><tr><th>Fecha</th><th>Cliente</th><th>Proyecto</th><th>Monto</th><th></th><th></th></tr></thead>
              <tbody id="tbPres"></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Tabbar -->
  <nav class="tabbar">
    <button data-go="productos" class="active">ğŸ§°<span>Productos</span></button>
    <button data-go="carrito">ğŸ›’<span>Carrito</span></button>
    <button data-go="proyectos">ğŸ—ï¸<span>Proyectos</span></button>
    <button data-go="contacto">ğŸ“<span>Contacto</span></button>
    <button data-go="legal">âš–ï¸<span>Legal</span></button>
    <button data-go="admin" id="tabAdmin" class="hidden">ğŸ› ï¸<span>Admin</span></button>
  </nav>

  <!-- BotÃ³n flotante de llamada (solo mÃ³vil en CSS) -->
  <a href="tel:+15133790469" class="fab">ğŸ“</a>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox hidden" aria-hidden="true">
    <div class="lb-inner">
      <button class="x" id="lbClose">âœ•</button>
      <img id="lbImg" alt="Imagen"/>
      <!-- Tip para modo censor-tap -->
      <div class="lb-tip">Toca para ver</div>
      <div class="tools">
        <button id="zIn" class="chip">Zoom +</button>
        <button id="zOut" class="chip">Zoom âˆ’</button>
        <button id="zReset" class="chip">Reset</button>
        <button id="openNew" class="chip">Abrir</button>
      </div>
      <button class="nav prev" id="lbPrev">â®</button>
      <button class="nav next" id="lbNext">â¯</button>
    </div>
  </div>

  <!-- Modal -->
  <div id="modal" class="modal hidden">
    <div class="sheet">
      <div class="sheet-head">
        <h3 id="modalTitle">TÃ­tulo</h3>
        <button id="modalClose" class="x">âœ•</button>
      </div>
      <div id="modalBody" class="sheet-body"></div>
    </div>
  </div>

  <footer class="footer">Â© 2025 Stradivaryus Tools</footer>
  <script src="app.js" defer></script>
</body>
</html>
