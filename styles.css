/* ==========================================================
   Stradivaryus Tools – UI Bonita (glass + neon)
   - Temas: dark/light por [data-theme] en <html>
   - Efectos: blur, animaciones, reveal, ripple, tilt
   - Tipografía y layout modernos
   ========================================================== */

/* ---------- Reset minimal ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin: 0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, sans-serif; }

/* ---------- Variables de tema ---------- */
:root {
  --brand: #4f8cff;
  --brand-2: #7a5cff;
  --bg: #0b1220;
  --bg-2: #0e1629;
  --card: rgba(16, 24, 38, 0.75);
  --card-strong: #101826;
  --text: #e8eef8;
  --text-2: #aab7cf;
  --muted: #90a3bf;
  --line: #1f2a44cc;
  --ok: #22c55e;
  --warn: #f59e0b;
  --danger: #ef4444;
  --shadow: 0 20px 50px rgba(0,0,0,.45);
  --blur: 10px;
  --radius: 18px;
  --radius-sm: 12px;
  --radius-xs: 10px;
  --ring: 0 0 0 3px #4f8cff33;
}

:root[data-theme="light"] {
  --bg: #f7f9fc;
  --bg-2: #ffffff;
  --card: rgba(255,255,255,.70);
  --card-strong: #ffffff;
  --text: #0f172a;
  --text-2: #334155;
  --muted: #475569;
  --line: #e5e7ebcc;
  --shadow: 0 14px 40px rgba(2,6,23,.12);
}

/* ---------- Fondo y layout global ---------- */
body {
  background:
    radial-gradient(1200px 700px at 15% -10%, #4f8cff22 0%, transparent 50%),
    radial-gradient(1000px 600px at 110% 0%, #7a5cff22 0%, transparent 58%),
    linear-gradient(180deg, var(--bg) 0%, var(--bg-2) 100%);
  color: var(--text);
  line-height: 1.45;
}

.container {
  max-width: 1200px;
  margin: 24px auto 80px;
  padding: 0 16px;
}

/* ---------- Header ---------- */
.header {
  position: sticky;
  top: 0;
  z-index: 999;
  backdrop-filter: blur(var(--blur));
  background: linear-gradient(180deg, rgba(12,18,34,.86), rgba(12,18,34,.66));
  border-bottom: 1px solid var(--line);
  transition: box-shadow .25s ease, background .25s ease;
}
:root[data-theme="light"] .header {
  background: linear-gradient(180deg, rgba(255,255,255,.86), rgba(255,255,255,.66));
}
.header.is-scrolled { box-shadow: var(--shadow); }

.header .inner {
  display: flex; align-items: center; gap: 14px;
  max-width: 1200px; margin: 0 auto; padding: 12px 16px;
}
.brand {
  display:flex; align-items:center; gap:10px;
  font-weight: 700; letter-spacing:.2px;
}
.brand img { width:32px; height:32px; object-fit:contain; }
.header .spacer { flex: 1; }

/* ---------- Tabbar (nav principal) ---------- */
.tabbar { display:flex; gap:8px; }
.tabbar button {
  appearance: none; border: 1px solid var(--line);
  background: linear-gradient(180deg, var(--card), transparent);
  color: var(--text); padding: 10px 14px;
  border-radius: var(--radius-xs);
  cursor: pointer; transition: transform .15s ease, border-color .2s, background .2s;
}
.tabbar button:hover { transform: translateY(-1px); border-color: #4f8cff55; }
.tabbar button.active {
  background: linear-gradient(180deg, #4f8cff33, #7a5cff22);
  border-color: #4f8cff77;
  box-shadow: inset 0 1px 0 #ffffff10, 0 6px 20px #4f8cff22;
}

/* ---------- Buscador ---------- */
.search {
  display:flex; gap:8px; align-items:center;
  padding: 8px; border:1px solid var(--line);
  border-radius: var(--radius); background: var(--card); backdrop-filter: blur(var(--blur));
}
.search input, .input, select {
  appearance: none; border: 1px solid var(--line);
  background: var(--card-strong); color: var(--text);
  padding: 10px 12px; border-radius: var(--radius-xs); outline: none;
  transition: border-color .2s ease, background .2s ease, box-shadow .2s;
  width: 100%;
}
.search input:focus, .input:focus, select:focus { border-color: #4f8cff99; box-shadow: var(--ring); }
.btn {
  appearance:none; border:1px solid var(--line);
  background: linear-gradient(180deg, #4f8cff, #6b7dff);
  color:white; font-weight:600; padding:10px 14px;
  border-radius: var(--radius-xs); cursor:pointer;
  box-shadow: 0 10px 30px #4f8cff3a;
  transition: transform .12s ease, box-shadow .2s;
  position: relative; overflow: hidden;
}
.btn:hover { transform: translateY(-1px); box-shadow: 0 16px 40px #4f8cff40; }
.btn.ghost {
  background: linear-gradient(180deg, var(--card), transparent);
  color: var(--text); border:1px solid var(--line); box-shadow:none;
}
.btn.danger {
  background: linear-gradient(180deg, #ef4444, #f87171);
  box-shadow: 0 10px 30px #ef44443a;
}

/* Chips */
.chip {
  appearance: none; border:1px solid var(--line);
  background: var(--card); color: var(--text-2);
  border-radius: 999px; padding: 6px 10px; cursor:pointer;
  transition: border-color .2s, transform .12s;
}
.chip:hover { border-color: #4f8cff66; transform: translateY(-1px); }
.chip.danger { color: #fecaca; border-color: #ef4444aa; background: #ef444418; }

/* ---------- Cards & items ---------- */
.card {
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 16px;
  backdrop-filter: blur(var(--blur));
  transition: transform .15s ease, box-shadow .25s ease, border-color .25s;
}
.card:hover { transform: translateY(-2px); border-color: #4f8cff55; box-shadow: 0 30px 60px rgba(0,0,0,.35); }
.card.mini { padding: 12px; border-radius: var(--radius-sm); }

.item {
  background: var(--card);
  border:1px solid var(--line);
  border-radius: var(--radius);
  overflow:hidden; box-shadow: var(--shadow);
  transition: transform .15s ease, box-shadow .25s ease, border-color .2s;
  will-change: transform;
}
.item:hover { transform: translateY(-3px); border-color:#4f8cff55; box-shadow: 0 32px 70px rgba(0,0,0,.4); }
.item .img { position: relative; aspect-ratio: 16/10; overflow: hidden; }
.item .img img { width: 100%; height: 100%; object-fit: cover; display:block; transform: scale(1.02); transition: transform .6s ease; }
.item:hover .img img { transform: scale(1.06); }
.item .mini-thumbs { display:flex; gap:6px; padding:8px; border-bottom:1px solid var(--line); background: linear-gradient(180deg, var(--card-strong), transparent); }
.item .mini-thumbs img { width:56px; height:56px; object-fit:cover; border-radius: 10px; border:1px solid var(--line); }
.item .body { padding: 14px; }
.item .title { margin:0 0 6px; font-size: 1.05rem; letter-spacing:.1px; }
.item .price { font-weight:700; color:#93c5fd; margin-bottom: 8px; }

.item.vendido .img::after {
  content:"VENDIDO";
  position:absolute; inset:auto 8px 8px auto;
  background: #ef4444; color:#fff; font-weight:800;
  padding:6px 10px; border-radius: 8px; letter-spacing: .6px;
  box-shadow: 0 6px 18px #ef444455;
}
.badge-count {
  position:absolute; inset:auto auto 8px 8px;
  background: #0ea5e9; color: #06131d;
  font-weight: 800; padding: 6px 10px; border-radius: 8px;
  box-shadow: 0 6px 18px #0ea5e955;
}

/* ---------- Grid ---------- */
.grid {
  display:grid; gap: 16px;
  grid-template-columns: repeat(12, 1fr);
}
.col-12 { grid-column: span 12; }
.col-8 { grid-column: span 8; }
.col-6 { grid-column: span 6; }
.col-4 { grid-column: span 4; }
.col-3 { grid-column: span 3; }

@media (max-width:1000px){
  .col-8 { grid-column: span 12; }
  .col-6 { grid-column: span 12; }
  .col-4 { grid-column: span 6; }
  .col-3 { grid-column: span 6; }
}
@media (max-width:640px){
  .col-4, .col-3 { grid-column: span 12; }
}

/* ---------- Thumbs (admin) ---------- */
.thumbs { display:flex; flex-wrap:wrap; gap:10px; margin-top:8px; }
.thumbs .thumb {
  position: relative;
  background: var(--card-strong); border:1px solid var(--line);
  border-radius: 12px; overflow: hidden;
  width: 140px; height: 100px;
}
.thumbs .thumb img { width:100%; height:100%; object-fit:cover; display:block; }
.thumbs .thumb .chip { position:absolute; inset: auto 8px 8px auto; }

/* ---------- Table ---------- */
.table-wrap { overflow:auto; border-radius: 14px; border:1px solid var(--line); background: var(--card); box-shadow: var(--shadow); }
table { width:100%; border-collapse: collapse; }
th, td { padding: 12px; border-bottom: 1px solid var(--line); text-align: left; }
thead th { position: sticky; top: 0; background: linear-gradient(180deg, var(--card-strong), transparent); z-index: 1; }
td.num { text-align: right; }

/* ---------- Gate Cliente ---------- */
#clienteGate {
  display:flex; flex-direction: column; gap: 12px; align-items: flex-start;
  padding: 18px; border:1px solid var(--line); background: var(--card); border-radius: var(--radius);
}
.hidden { display: none !important; }

/* ---------- Hero ---------- */
.hero {
  position: relative; border-radius: 22px; overflow: hidden;
  border:1px solid var(--line); background: var(--card); box-shadow: var(--shadow);
}
#heroSlider { position: relative; height: clamp(220px, 28vw, 460px); }
#heroSlider img { position:absolute; inset:0; width:100%; height:100%; object-fit: cover; opacity:0; transform: scale(1.04); transition: opacity .8s ease, transform 1.4s ease; }
#heroSlider img.active { opacity:1; transform: scale(1.00); }
.hero .nav {
  position:absolute; inset:0; display:flex; align-items:center; justify-content:space-between; padding: 0 10px;
}
.hero .nav button {
  width:40px; height:40px; border-radius: 999px; backdrop-filter: blur(12px);
  border:1px solid var(--line); background: #00000033; color: #fff; font-size:20px; cursor:pointer;
}
#heroDots {
  position:absolute; inset:auto 0 10px 0; display:flex; gap: 8px; justify-content:center;
}
#heroDots .seg {
  width: 28px; height: 6px; border-radius: 999px;
  background: #ffffff44; border:1px solid #ffffff33; cursor:pointer;
  transition: transform .2s ease, background .25s;
}
#heroDots .seg.active { background:#4f8cff; transform: scaleX(1.15); }

/* ---------- Lightbox ---------- */
#lb { position: fixed; inset:0; display:grid; place-items:center; opacity:0; pointer-events:none; transition: opacity .25s ease; z-index: 9999; }
#lb.show { opacity:1; pointer-events:auto; }
#lbMask { position:absolute; inset:0; background: rgba(0,0,0,.6); backdrop-filter: blur(4px); }
#lbBox { position: relative; width: min(92vw, 1100px); height: min(86vh, 740px); display:grid; place-items:center;
  background: var(--card); border:1px solid var(--line); border-radius: 16px; box-shadow: var(--shadow); overflow: hidden;
}
#lbImg { max-width:100%; max-height:100%; transition: transform .2s ease; }
#lbPrev, #lbNext, #lbClose {
  position:absolute; z-index:10; border:1px solid var(--line); background: #00000050; color:#fff; width:40px; height:40px; border-radius:999px; cursor:pointer;
}
#lbPrev { left: 8px; top: 50%; transform: translateY(-50%); }
#lbNext { right: 8px; top: 50%; transform: translateY(-50%); }
#lbClose { right: 8px; top: 8px; }
#lbZoom { position:absolute; left: 8px; top: 8px; display:flex; align-items:center; gap:8px; background:#00000050; border:1px solid var(--line); border-radius:999px; padding: 4px 8px; color:#fff; }
#lbZoom button { background: transparent; color:#fff; border: none; cursor: pointer; }

/* ---------- Modal ---------- */
#modal { position: fixed; inset:0; z-index: 9998; }
#modal .mask { position:absolute; inset:0; background: rgba(0,0,0,.5); backdrop-filter: blur(4px); }
#modal .box {
  position:absolute; inset: 50% auto auto 50%; transform: translate(-50%, -50%);
  width: min(92vw, 720px); background: var(--card); border:1px solid var(--line);
  border-radius: 16px; box-shadow: var(--shadow); overflow:hidden;
}
#modal .head { display:flex; justify-content:space-between; align-items:center; padding: 12px 14px; border-bottom:1px solid var(--line); }
#modal .body { padding: 16px; }

/* ---------- Toast ---------- */
#toastBox .toast {
  background: var(--card);
  border:1px solid var(--line);
  box-shadow: var(--shadow);
}

/* ---------- Utilidades ---------- */
.row { display:flex; gap:10px; align-items:center; }
.wrap { flex-wrap: wrap; }
.muted { color: var(--muted); }
.center { text-align:center; }

/* ---------- Animaciones ---------- */
@keyframes floatLong {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-6px); }
  100% { transform: translateY(0px); }
}
@keyframes popIn {
  0% { transform: translateY(8px) scale(.98); opacity: 0; }
  100% { transform: translateY(0) scale(1); opacity: 1; }
}

/* Scroll reveal */
.reveal { opacity: 0; transform: translateY(12px); transition: opacity .5s ease, transform .6s ease; }
.reveal.in { opacity:1; transform: translateY(0); }

/* Ripple (usado por JS) */
.ripple::after {
  content:''; position:absolute; inset:0; border-radius: inherit; transform: scale(0); opacity:.55;
  background: radial-gradient(circle at var(--rx,50%) var(--ry,50%), #ffffff80 0%, #ffffff40 40%, transparent 60%);
  transition: transform .5s ease, opacity .8s ease;
  pointer-events:none;
}
.ripple.is-anim::after { transform: scale(4); opacity: 0; }

/* Tilt (JS agrega transform inline); sombra extra */
.tilt-3d { will-change: transform; transform-style: preserve-3d; transition: transform .12s ease; }
